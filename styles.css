:root{
  --blue-dark:#003d8f;   --blue:#0055b3;
  --teal-dark:#00695c;   --teal:#009688;
  --pink:#d81b60;
  --uptake-col:#4caf50;   /* green */
  --optout-col:#f44336;   /* red */
  --bg:#f5f8fa;           --card:#fff;
  --text:#1a1a1a;         --border:#e0e6ed;
  --shadow:rgba(0,0,0,.10);
}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);}
header{background:linear-gradient(90deg,var(--blue-dark),var(--blue));padding:20px;text-align:center;box-shadow:0 4px 10px var(--shadow);}
header h1{color:#fff;font-weight:600;font-size:2rem;}
header span{font-weight:400;}
.tab-nav{display:flex;flex-wrap:wrap;justify-content:center;background:var(--card);box-shadow:0 2px 4px var(--shadow);}
.tab-btn{flex:1 1 120px;padding:14px;border:none;background:none;cursor:pointer;font-weight:600;transition:.25s;}
.tab-btn:hover,.tab-btn.active{background:var(--blue-dark);color:#fff;}
main{max-width:1150px;margin:30px auto 40px auto;padding:0 15px;}
.tab-content{display:none;}
.tab-content.active{display:block;}
.card,.canvas,.box{background:var(--card);border-radius:12px;box-shadow:0 2px 10px var(--shadow);padding:22px;margin-bottom:20px;}
.canvas{border:2px dashed var(--blue-dark);}
.grid{display:grid;gap:20px;}
.attr-grid{grid-template-columns:repeat(auto-fit,minmax(240px,1fr));}
.input-grid{grid-template-columns:repeat(auto-fit,minmax(260px,1fr));}
.full-span{grid-column:1/-1;}
.box label{font-weight:600;margin-bottom:7px;display:block;}
.level{margin-top:5px;color:var(--blue-dark);font-style:italic;}
.desc{margin-top:10px;font-size:0.95em;color:#333;}
.mini-desc{margin-top:8px;font-size:0.92em;color:#558;}
input[type=range]{width:100%;accent-color:var(--teal);}
.radio-group{display:flex;gap:16px;flex-wrap:wrap;font-size:.99rem;}
.radio-group input{accent-color:var(--teal);}
.tip{display:inline-block;margin-left:6px;width:18px;height:18px;border-radius:50%;background:var(--pink);color:#fff;text-align:center;line-height:18px;font-size:.8rem;position:relative;cursor:help;}
.tip::after{content:attr(data-tip);position:absolute;bottom:-5px;left:50%;transform:translateX(-50%) translateY(100%);background:var(--blue-dark);color:#fff;padding:8px;border-radius:6px;font-size:.85rem;width:220px;opacity:0;visibility:hidden;transition:opacity .2s;pointer-events:none;z-index:2;}
.tip:hover::after{opacity:1;visibility:visible;}
.btn-row{display:flex;gap:16px;justify-content:center;margin-top:8px;}
button{padding:14px 28px;border:none;border-radius:8px;color:#fff;cursor:pointer;font-weight:600;font-size:1.06rem;transition:.25s;}
.primary{background:var(--teal);}   .primary:hover{background:var(--teal-dark);}
.secondary{background:var(--blue);} .secondary:hover{background:var(--blue-dark);}
button:disabled{background:#a0aec0;cursor:not-allowed;}
.warn{min-height:1.3em;color:var(--pink);font-weight:700;text-align:center;}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:100;}
.modal-content{background:var(--card);border-radius:10px;padding:26px;max-width:90%;max-height:80vh;overflow:auto;position:relative;box-shadow:0 4px 12px var(--shadow);}
.close{position:absolute;top:10px;right:18px;font-size:1.4rem;cursor:pointer;color:var(--pink);}
.modal.active{display:flex;}
table{width:100%;border-collapse:collapse;margin-top:20px;font-size:.98em;}
th,td{border:1px solid var(--border);padding:8px;text-align:left;}
th{background:var(--bg);font-weight:600;}
canvas{margin-top:20px;border:1px solid var(--border);border-radius:10px;box-shadow:0 2px 6px var(--shadow);width:100%;height:auto;}
.chart-explanation{text-align:center;margin:6px 0 18px 0;font-size:.98em;color:#357;}
.intro-list{margin:8px 0 16px 30px;font-size:1.07em;}
ul{margin-bottom:0;}
li{margin-bottom:10px;}
@media(max-width:768px){
  .attr-grid,.input-grid{grid-template-columns:1fr;}
  .canvas,.card{padding:14px;}
  main{padding:0 2vw;}
}
